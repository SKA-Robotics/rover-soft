<launch>
    <arg name="message_rate" default="1.0" />
    <arg name="input_frame" default="manip_camera" />
    <arg name="output_frame" default="test_frame" />
    <arg name="info_topic" default="/fake_camera_info" />
    <arg name="stream_topic" default="/fake_camera_stream" />

    <node name="fake_camera" pkg="panel_visualization" type="fake_camera.py" output="screen">
        <param name="message_rate" value="$(arg message_rate)" />
        <param name="frame_id" value="$(arg input_frame)" />
        <param name="info_topic" value="$(arg info_topic)" />
        <param name="stream_topic" value="$(arg stream_topic)" />
    </node>

    <node name="static_transform_publisher" pkg="tf2_ros" type="static_transform_publisher"
        args="0 0 0 0 0.70710678118 0 -0.70710678118 $(arg output_frame) $(arg input_frame)" />

    <include file="$(find ar_track_alvar)/launch/pr2_indiv_no_kinect.launch">
        <arg name="marker_size" value="2.3" /> <!-- default 4.4 -->
        <arg name="max_new_marker_error" value="0.8" /> <!-- default 0.08 -->
        <arg name="max_track_error" value="0.0" /> <!-- default 0.2 -->
        <arg name="cam_image_topic" value="$(arg stream_topic)" />
        <arg name="cam_info_topic" value="$(arg info_topic)" />
        <arg name="output_frame" value="$(arg output_frame)" />
    </include>

    <node name="rviz" pkg="rviz" type="rviz" output="screen"
        args="-d $(find panel_visualization)/config/test_config.rviz" />

    <!-- TEST node -->
    <!-- <node name="image_receiver" pkg="panel_visualization" type="image_receiver.py"
        output="screen">
        <param name="message_rate" value="$(arg message_rate)" />
        <param name="stream_topic" value="$(arg stream_topic)" />
    </node> -->
</launch>